<!doctype html>
<html lang="en" dir="ltr">
<head>
<meta charset="UTF-8">
<meta name="viewport" content="width=device-width,initial-scale=1">
<meta name="generator" content="Docusaurus v2.0.0-beta.4">
<link rel="stylesheet" href="https://fonts.googleapis.com/css?family=Material+Icons"><title data-react-helmet="true">Creating an EVM Chain | IOTA Smart Contract Protocol</title><meta data-react-helmet="true" property="og:url" content="https://iscp.docs.iota.org/docs/guide/evm/create-chain/"><meta data-react-helmet="true" name="docusaurus_locale" content="en"><meta data-react-helmet="true" name="docusaurus_version" content="current"><meta data-react-helmet="true" name="docusaurus_tag" content="docs-default-current"><meta data-react-helmet="true" property="og:title" content="Creating an EVM Chain | IOTA Smart Contract Protocol"><meta data-react-helmet="true" name="description" content="How to create a new EVM Chain and get started"><meta data-react-helmet="true" property="og:description" content="How to create a new EVM Chain and get started"><meta data-react-helmet="true" name="keywords" content="ISCP,Smart Contracts,Chain,EVM,Solidity,Deploy"><meta data-react-helmet="true" property="og:image" content="https://iscp.docs.iota.org/img/logo/WASP_logo_dark.png"><meta data-react-helmet="true" name="twitter:image" content="https://iscp.docs.iota.org/img/logo/WASP_logo_dark.png"><link data-react-helmet="true" rel="shortcut icon" href="/img/logo/favicon.ico"><link data-react-helmet="true" rel="canonical" href="https://iscp.docs.iota.org/docs/guide/evm/create-chain/"><link data-react-helmet="true" rel="alternate" href="https://iscp.docs.iota.org/docs/guide/evm/create-chain/" hreflang="en"><link data-react-helmet="true" rel="alternate" href="https://iscp.docs.iota.org/docs/guide/evm/create-chain/" hreflang="x-default"><link rel="stylesheet" href="/assets/css/styles.c3cdf61a.css">
<link rel="preload" href="/assets/js/runtime~main.1d683776.js" as="script">
<link rel="preload" href="/assets/js/main.e408bb30.js" as="script">
</head>
<body>
<script>!function(){function t(t){document.documentElement.setAttribute("data-theme",t)}var e=function(){var t=null;try{t=localStorage.getItem("theme")}catch(t){}return t}();t(null!==e?e:"light")}()</script><div id="__docusaurus">
<div><a href="#" class="skipToContent_1oUP">Skip to main content</a></div><nav class="navbar navbar--fixed-top"><div class="navbar__inner"><div class="navbar__items"><button aria-label="Navigation bar toggle" class="navbar__toggle clean-btn" type="button" tabindex="0"><svg width="30" height="30" viewBox="0 0 30 30" aria-hidden="true"><path stroke="currentColor" stroke-linecap="round" stroke-miterlimit="10" stroke-width="2" d="M4 7h22M4 15h22M4 23h22"></path></svg></button><a class="navbar__brand" href="/"><img src="/img/logo/WASP_logo_dark.png" alt="IOTA" class="themedImage_1VuW themedImage--light_3UqQ navbar__logo"><img src="/img/logo/WASP_logo_dark.png" alt="IOTA" class="themedImage_1VuW themedImage--dark_hz6m navbar__logo"><b class="navbar__title">ISCP</b></a><a class="navbar__item navbar__link navbar__link--active" href="/docs/overview/">Documentation</a></div><div class="navbar__items navbar__items--right"><div class="react-toggle toggle_3Zt9 react-toggle--disabled"><div class="react-toggle-track" role="button" tabindex="-1"><div class="react-toggle-track-check"><span class="toggle_71bT">ðŸŒœ</span></div><div class="react-toggle-track-x"><span class="toggle_71bT">ðŸŒž</span></div><div class="react-toggle-thumb"></div></div><input type="checkbox" class="react-toggle-screenreader-only" aria-label="Switch between dark and light mode"></div></div></div><div role="presentation" class="navbar-sidebar__backdrop"></div></nav><div class="main-wrapper docs-wrapper doc-page"><div class="docPage_31aa"><button class="clean-btn backToTopButton_35hR" type="button" title="Scroll to top"><svg viewBox="0 0 24 24" width="28"><path d="M7.41 15.41L12 10.83l4.59 4.58L18 14l-6-6-6 6z" fill="currentColor"></path></svg></button><aside class="docSidebarContainer_3Kbt"><div class="sidebar_15mo"><nav class="menu thin-scrollbar menu_Bmed menuWithAnnouncementBar_2WvA"><ul class="menu__list"><li class="menu__list-item"><a class="menu__link" href="/docs/overview/">Overview</a></li><li class="menu__list-item menu__list-item--collapsed"><a class="menu__link menu__link--sublist" href="#">Core Concepts</a></li><li class="menu__list-item menu__list-item--collapsed"><a class="menu__link menu__link--sublist" href="#">ISCP Chains and Nodes</a></li><li class="menu__list-item menu__list-item--collapsed"><a class="menu__link menu__link--sublist" href="#">Rust/WASM</a></li><li class="menu__list-item"><a class="menu__link menu__link--sublist menu__link--active" href="#">EVM</a><ul style="display:block;overflow:visible;height:auto" class="menu__list"><li class="menu__list-item"><a class="menu__link" tabindex="0" href="/docs/guide/evm/introduction/">Introduction</a></li><li class="menu__list-item"><a class="menu__link" tabindex="0" href="/docs/guide/evm/limitations/">Limitations</a></li><li class="menu__list-item"><a aria-current="page" class="menu__link menu__link--active active" tabindex="0" href="/docs/guide/evm/create-chain/">Creating a chain</a></li><li class="menu__list-item"><a class="menu__link" tabindex="0" href="/docs/guide/evm/example/">Example contract</a></li><li class="menu__list-item"><a class="menu__link" tabindex="0" href="/docs/guide/evm/tooling/">Tooling</a></li></ul></li><li class="menu__list-item menu__list-item--collapsed"><a class="menu__link menu__link--sublist" href="#">Example projects</a></li><li class="menu__list-item"><a class="menu__link" href="/docs/contribute/">Contribute</a></li></ul></nav></div></aside><main class="docMainContainer_3ufF"><div class="container padding-top--md padding-bottom--lg"><div class="row"><div class="col docItemCol_3FnS"><div class="docItemContainer_33ec"><article><div class="tocCollapsible_1PrD tocMobile_3Hoh"><button type="button" class="clean-btn tocCollapsibleButton_2O1e">On this page</button></div><div class="markdown"><header><h1 class="h1Heading_27L5">Creating an EVM Chain</h1></header><p>EVM chains run inside ISCP chains. So in order to start an EVM chain, you will first need to follow the steps to start an ISCP chain or use a existing ISCP chain to start the EVM chain on.</p><div class="admonition admonition-warning alert alert--danger"><div class="admonition-heading"><h5><span class="admonition-icon"><svg xmlns="http://www.w3.org/2000/svg" width="12" height="16" viewBox="0 0 12 16"><path fill-rule="evenodd" d="M5.05.31c.81 2.17.41 3.38-.52 4.31C3.55 5.67 1.98 6.45.9 7.98c-1.45 2.05-1.7 6.53 3.53 7.7-2.2-1.16-2.67-4.52-.3-6.61-.61 2.03.53 3.33 1.94 2.86 1.39-.47 2.3.53 2.27 1.67-.02.78-.31 1.44-1.13 1.81 3.42-.59 4.78-3.42 4.78-5.56 0-2.84-2.53-3.22-1.25-5.61-1.52.13-2.03 1.13-1.89 2.75.09 1.08-1.02 1.8-1.86 1.33-.67-.41-.66-1.19-.06-1.78C8.18 5.31 8.68 2.45 5.05.32L5.03.3l.02.01z"></path></svg></span>warning</h5></div><div class="admonition-content"><p>An ISCP chain can only contain 1 EVM chain contract. If your ISCP chain already has an EVM chain contract, then that is the one that should be used instead of creating a new one.</p></div></div><h3><a aria-hidden="true" tabindex="-1" class="anchor enhancedAnchor_2LWZ" id="1-creating-the-iscp-chain"></a>1. Creating the ISCP chain<a class="hash-link" href="#1-creating-the-iscp-chain" title="Direct link to heading">#</a></h3><p>If you don&#x27;t have a ISCP chain you should create one first. To do so, follow the instructions <a href="/docs/guide/chains_and_nodes/setting-up-a-chain/">on setting up a chain</a>.</p><h3><a aria-hidden="true" tabindex="-1" class="anchor enhancedAnchor_2LWZ" id="2-fund-your-account-on-your-newly-created-chain"></a>2. Fund your account on your newly created chain<a class="hash-link" href="#2-fund-your-account-on-your-newly-created-chain" title="Direct link to heading">#</a></h3><p>In order to deploy the EVM chain contract you first need to have some IOTA locked on your newly created chain to fund that action. In order to do this simply run:</p><div class="codeBlockContainer_K1bP"><div class="codeBlockContent_hGly bash="><pre tabindex="0" class="prism-code language-bash= codeBlock_23N8 thin-scrollbar" style="color:#393A34;background-color:#f6f8fa"><code class="codeBlockLines_39YC"><span class="token-line" style="color:#393A34"><span class="token plain">wasp-cli chain deposit IOTA:10000</span></span></code></pre><button type="button" aria-label="Copy code to clipboard" class="copyButton_Ue-o clean-btn">Copy</button></div></div><p>This locks 10000 IOTA into your name on your newly created chain which can be used on that chain to pay for the creation of the EVM Chain contract.</p><h3><a aria-hidden="true" tabindex="-1" class="anchor enhancedAnchor_2LWZ" id="3-deploy-the-evm-chain-contract"></a>3. Deploy the EVM Chain Contract<a class="hash-link" href="#3-deploy-the-evm-chain-contract" title="Direct link to heading">#</a></h3><p>In order to deploy the EVM Chain contract, we first need to make sure that the token that will be used on that chain is supplied right at its inception to a given address. You will have to generate a compatible address first with a private key file. Probably the most intuitive way to do this is by utilizing <a href="https://metamask.io" target="_blank" rel="noopener noreferrer">Metamask</a>. In MetaMask we create a wallet (it does not matter what chain it is connected to). Once a wallet is generated you will see a wallet address under its name. You can copy this to your clipboard. This is the address that will receive the full supply of the tokens on that chain.</p><p><img alt="MetaMask" src="/assets/images/metamask-a9eb1000ab2aa4bcbc9016721ebb88c0.png"></p><p>Once you have this, we are ready to deploy the EVM chain with the following command:</p><div class="codeBlockContainer_K1bP"><div class="codeBlockContent_hGly bash="><pre tabindex="0" class="prism-code language-bash= codeBlock_23N8 thin-scrollbar" style="color:#393A34;background-color:#f6f8fa"><code class="codeBlockLines_39YC"><span class="token-line" style="color:#393A34"><span class="token plain">wasp-cli chain evm deploy --alloc 0x0ad2406D4A50C199ddD08086bC89E8189e86d9d4:1000000000000000000000000</span></span></code></pre><button type="button" aria-label="Copy code to clipboard" class="copyButton_Ue-o clean-btn">Copy</button></div></div><p>The <code>--alloc</code> parameter makes sure the provided address (<code>0x0ad2406D4A50C199ddD08086bC89E8189e86d9d4</code> in this case) will receive 1 million tokens (it has a additional 18 zeroes for decimals).</p><p>Once this command has been executed successfully your EVM chain is up and running and ready to be used.</p><h3><a aria-hidden="true" tabindex="-1" class="anchor enhancedAnchor_2LWZ" id="running-the-jsonrpc-interface"></a>Running the JSON/RPC interface<a class="hash-link" href="#running-the-jsonrpc-interface" title="Direct link to heading">#</a></h3><p>In order to communicate with the EVM contract we need to run an additional server application that is compatible with how interaction usually takes place on other networks. This allows us to use other tools from those ecosystems to connect to our EVM chain like <a href="https://metamask.io" target="_blank" rel="noopener noreferrer">MetaMask</a> and <a href="https://hardhat.org/" target="_blank" rel="noopener noreferrer">Hardhat</a>. To run this server simply run: </p><div class="codeBlockContainer_K1bP"><div class="codeBlockContent_hGly bash="><pre tabindex="0" class="prism-code language-bash= codeBlock_23N8 thin-scrollbar" style="color:#393A34;background-color:#f6f8fa"><code class="codeBlockLines_39YC"><span class="token-line" style="color:#393A34"><span class="token plain">wasp-cli chain evm jsonrpc --chainid 1074</span></span></code></pre><button type="button" aria-label="Copy code to clipboard" class="copyButton_Ue-o clean-btn">Copy</button></div></div><p>This will start the JSON/RPC server on port 8545 for us with Chain ID 1074. We can now simply point MetaMask or Hardhat to that server&#x27;s address on port 8545 and interact with it like any other EVM based chain.</p><div class="admonition admonition-caution alert alert--warning"><div class="admonition-heading"><h5><span class="admonition-icon"><svg xmlns="http://www.w3.org/2000/svg" width="16" height="16" viewBox="0 0 16 16"><path fill-rule="evenodd" d="M8.893 1.5c-.183-.31-.52-.5-.887-.5s-.703.19-.886.5L.138 13.499a.98.98 0 0 0 0 1.001c.193.31.53.501.886.501h13.964c.367 0 .704-.19.877-.5a1.03 1.03 0 0 0 .01-1.002L8.893 1.5zm.133 11.497H6.987v-2.003h2.039v2.003zm0-3.004H6.987V5.987h2.039v4.006z"></path></svg></span>caution</h5></div><div class="admonition-content"><p>Re-using an existing Chain ID is not recommended and can be a security risk. For any serious chain you will be running make sure you register a unique Chain ID on <a href="https://chainlist.org/" target="_blank" rel="noopener noreferrer">Chainlist</a> and use that instead of the default.</p></div></div><div class="admonition admonition-warning alert alert--danger"><div class="admonition-heading"><h5><span class="admonition-icon"><svg xmlns="http://www.w3.org/2000/svg" width="12" height="16" viewBox="0 0 12 16"><path fill-rule="evenodd" d="M5.05.31c.81 2.17.41 3.38-.52 4.31C3.55 5.67 1.98 6.45.9 7.98c-1.45 2.05-1.7 6.53 3.53 7.7-2.2-1.16-2.67-4.52-.3-6.61-.61 2.03.53 3.33 1.94 2.86 1.39-.47 2.3.53 2.27 1.67-.02.78-.31 1.44-1.13 1.81 3.42-.59 4.78-3.42 4.78-5.56 0-2.84-2.53-3.22-1.25-5.61-1.52.13-2.03 1.13-1.89 2.75.09 1.08-1.02 1.8-1.86 1.33-.67-.41-.66-1.19-.06-1.78C8.18 5.31 8.68 2.45 5.05.32L5.03.3l.02.01z"></path></svg></span>warning</h5></div><div class="admonition-content"><p>The current implementation uses the wasp-cli&#x27;s saved account to pay for any fees in IOTA while using the JSON / RPC interface, this is of course not ideal in a normal usage scenario. Releases after this one will address this in a more user friendly way.</p></div></div></div><footer class="row docusaurus-mt-lg"><div class="col"><a href="https://github.com/iotaledger/chronicle.rs/tree/main/docs/docs/guide/evm/create-chain.md" target="_blank" rel="noreferrer noopener"><svg fill="currentColor" height="20" width="20" viewBox="0 0 40 40" class="iconEdit_2_ui" aria-hidden="true"><g><path d="m34.5 11.7l-3 3.1-6.3-6.3 3.1-3q0.5-0.5 1.2-0.5t1.1 0.5l3.9 3.9q0.5 0.4 0.5 1.1t-0.5 1.2z m-29.5 17.1l18.4-18.5 6.3 6.3-18.4 18.4h-6.3v-6.2z"></path></g></svg>Edit this page</a></div><div class="col lastUpdated_3DPF"></div></footer></article><nav class="pagination-nav docusaurus-mt-lg" aria-label="Docs pages navigation"><div class="pagination-nav__item"><a class="pagination-nav__link" href="/docs/guide/evm/limitations/"><div class="pagination-nav__sublabel">Previous</div><div class="pagination-nav__label">Â« EVM Limitations within ISCP</div></a></div><div class="pagination-nav__item pagination-nav__item--next"><a class="pagination-nav__link" href="/docs/guide/evm/example/"><div class="pagination-nav__sublabel">Next</div><div class="pagination-nav__label">Solidity Smart Contract Example Â»</div></a></div></nav></div></div><div class="col col--3"><div class="tableOfContents_35-E thin-scrollbar"><ul class="table-of-contents table-of-contents__left-border"><li><a href="#1-creating-the-iscp-chain" class="table-of-contents__link">1. Creating the ISCP chain</a></li><li><a href="#2-fund-your-account-on-your-newly-created-chain" class="table-of-contents__link">2. Fund your account on your newly created chain</a></li><li><a href="#3-deploy-the-evm-chain-contract" class="table-of-contents__link">3. Deploy the EVM Chain Contract</a></li><li><a href="#running-the-jsonrpc-interface" class="table-of-contents__link">Running the JSON/RPC interface</a></li></ul></div></div></div></div></main></div></div><footer class="footer footer--dark"><div class="container"><div class="row footer__links"><div class="col footer__col"><div class="footer__title">Documentation</div><ul class="footer__items"><li class="footer__item"><a class="footer__link-item" href="/docs/overview/">Overview</a></li></ul></div></div><div class="footer__bottom text--center"><div class="footer__copyright">Copyright Â© 2021 IOTA Foundation, Built with Docusaurus.</div></div></div></footer></div>
<script src="/assets/js/runtime~main.1d683776.js"></script>
<script src="/assets/js/main.e408bb30.js"></script>
</body>
</html>